{"version":3,"sources":["src/uiHelpers.js","src/API/carsApi.double.js","src/app.js"],"names":["columns","populateCell","cell","text","cellText","document","createTextNode","appendChild","addCarRow","car","tableId","table","getElementById","getElementsByTagName","newRow","insertRow","rows","length","cells","map","_","index","insertCell","forEach","c","addCarRows","cars","cleanTable","deleteRow","populateEditCarForm","name","brand","year_release","value","retrieveCarFormEditCarForm","retrieveCarId","data","getAllCars","Promise","resolve","setTimeout","i","getCarById","id","find","car_id","addCar","push","addEventListener","buttonLoadCars","event","stopPropagation","then","result","buttonLoadCar","carId","r","buttonAddCar","preventDefault"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,OAAO,GAAG,CAAC,QAAD,EAAW,MAAX,EAAmB,OAAnB,EAA4B,cAA5B,CAAhB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAOC,IAAP,EAAgB;AACjC,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,IAAxB,CAAjB;AACAD,EAAAA,IAAI,CAACK,WAAL,CAAiBH,QAAjB;AACH,CAHD;;AAKA,IAAMI,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAMC,OAAN,EAAkB;AAChC,MAAMC,KAAK,GAAGN,QAAQ,CAACO,cAAT,CAAwBF,OAAxB,EAAiCG,oBAAjC,CAAsD,OAAtD,EAA+D,CAA/D,CAAd;AACA,MAAMC,MAAM,GAAGH,KAAK,CAACI,SAAN,CAAgBJ,KAAK,CAACK,IAAN,CAAWC,MAA3B,CAAf;AACA,MAAMC,KAAK,GAAGlB,OAAO,CAACmB,GAAR,CAAY,UAACC,CAAD,EAAIC,KAAJ;AAAA,WAAcP,MAAM,CAACQ,UAAP,CAAkBD,KAAlB,CAAd;AAAA,GAAZ,CAAd;AACAH,EAAAA,KAAK,CAACK,OAAN,CAAc,UAACC,CAAD,EAAIH,KAAJ,EAAc;AACxB,QAAMlB,IAAI,GAAGM,GAAG,CAACT,OAAO,CAACqB,KAAD,CAAR,CAAhB;AACApB,IAAAA,YAAY,CAACuB,CAAD,EAAIrB,IAAJ,CAAZ;AACH,GAHD;AAIH,CARD;;AAUO,IAAMsB,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOhB,OAAP,EAAmB;AACzCgB,EAAAA,IAAI,CAACH,OAAL,CAAa,UAACC,CAAD;AAAA,WAAOhB,SAAS,CAACgB,CAAD,EAAId,OAAJ,CAAhB;AAAA,GAAb;AACH,CAFM;;;;AAIA,IAAMiB,UAAU,GAAG,SAAbA,UAAa,CAACjB,OAAD,EAAa;AACnC,MAAMC,KAAK,GAAGN,QAAQ,CACjBO,cADS,CACMF,OADN,EAETG,oBAFS,CAEY,OAFZ,EAEqB,CAFrB,CAAd;;AAGA,MAAIF,KAAK,CAACK,IAAN,IAAcL,KAAK,CAACK,IAAN,CAAWC,MAAX,GAAoB,CAAtC,EAAyC;AACrC,SAAK,IAAII,KAAK,GAAGV,KAAK,CAACK,IAAN,CAAWC,MAAX,GAAoB,CAArC,EAAwCI,KAAK,IAAI,CAAjD,EAAoDA,KAAK,EAAzD,EAA6D;AACzDV,MAAAA,KAAK,CAACiB,SAAN,CAAgBP,KAAhB;AACH;AACJ;AACJ,CATM;;;;AAWA,IAAMQ,mBAAmB,GAAG,SAAtBA,mBAAsB,OAAmC;AAAA,MAAhCC,IAAgC,QAAhCA,IAAgC;AAAA,MAA1BC,KAA0B,QAA1BA,KAA0B;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;AAClE3B,EAAAA,QAAQ,CAACO,cAAT,CAAwB,MAAxB,EAAgCqB,KAAhC,GAAwCH,IAAxC;AACAzB,EAAAA,QAAQ,CAACO,cAAT,CAAwB,OAAxB,EAAiCqB,KAAjC,GAAyCF,KAAzC;AACA1B,EAAAA,QAAQ,CAACO,cAAT,CAAwB,MAAxB,EAAgCqB,KAAhC,GAAwCD,YAAxC;AACH,CAJM;;;;AAMA,IAAME,0BAA0B,GAAG,SAA7BA,0BAA6B,GAAM;AAC5C,MAAMJ,IAAI,GAAGzB,QAAQ,CAACO,cAAT,CAAwB,MAAxB,EAAgCqB,KAA7C;AACA,MAAMF,KAAK,GAAG1B,QAAQ,CAACO,cAAT,CAAwB,OAAxB,EAAiCqB,KAA/C;AACA,MAAMD,YAAY,GAAG3B,QAAQ,CAACO,cAAT,CAAwB,MAAxB,EAAgCqB,KAArD;AACA,SAAO;AACHH,IAAAA,IAAI,EAAJA,IADG;AAEHC,IAAAA,KAAK,EAALA,KAFG;AAGHC,IAAAA,YAAY,EAAZA;AAHG,GAAP;AAKH,CATM;;;;AAWA,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC/B,SAAO,CAAC9B,QAAQ,CAACO,cAAT,CAAwB,OAAxB,EAAiCqB,KAAzC;AACH,CAFM;;;;;;;;;;ACjDP,IAAMG,IAAI,GAAG,CACT;AACI,YAAU,CADd;AAEI,UAAQ,KAFZ;AAGI,WAAS,SAHb;AAII,kBAAgB;AAJpB,CADS,EAOT;AACI,YAAU,CADd;AAEI,UAAQ,KAFZ;AAGI,WAAS,SAHb;AAII,kBAAgB;AAJpB,CAPS,CAAb;;AAeO,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC5B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUnB,CAAV,EAAgB;AAC/BoB,IAAAA,UAAU,CAAC,YAAM;AACb,UAAMd,IAAI,GAAGU,IAAI,CAACjB,GAAL,CAAS,UAACsB,CAAD;AAAA,eAAOA,CAAP;AAAA,OAAT,CAAb;AACAF,MAAAA,OAAO,CAACb,IAAD,CAAP;AACH,KAHS,EAGP,GAHO,CAAV;AAIH,GALM,CAAP;AAMH,CAPM;;;;AASA,IAAMgB,UAAU,GAAG,SAAbA,UAAa,CAACC,EAAD,EAAQ;AAC9B,SAAO,IAAIL,OAAJ,CAAY,UAACC,OAAD,EAAUnB,CAAV,EAAgB;AAC/BoB,IAAAA,UAAU,CAAC,YAAM;AACb,UAAM/B,GAAG,GAAG2B,IAAI,CAACjB,GAAL,CAAS,UAACsB,CAAD;AAAA,eAAOA,CAAP;AAAA,OAAT,EACPG,IADO,CACF,UAACpB,CAAD;AAAA,eAAOA,CAAC,CAACqB,MAAF,KAAaF,EAApB;AAAA,OADE,CAAZ;AAEAJ,MAAAA,OAAO,CAAC9B,GAAD,CAAP;AACH,KAJS,EAIP,GAJO,CAAV;AAKH,GANM,CAAP;AAOH,CARM;;;;AAUA,IAAMqC,MAAM,GAAG,SAATA,MAAS,CAACrC,GAAD,EAAS;AAC3B,SAAO,IAAI6B,OAAJ,CAAY,UAACC,OAAD,EAAUnB,CAAV,EAAgB;AAC/BoB,IAAAA,UAAU,CAAC,YAAM;AACb/B,MAAAA,GAAG,CAAC,QAAD,CAAH,GAAiB2B,IAAI,CAACnB,MAAL,GAAc,CAA/B;AACAmB,MAAAA,IAAI,CAACW,IAAL,CAAUtC,GAAV;AACA8B,MAAAA,OAAO,CAAC,IAAD,CAAP,CAHa,CAGE;AAClB,KAJS,EAIP,GAJO,CAAV;AAKH,GANM,CAAP;AAOH,CARM;;;;;;AClCP;;AAOA;;AAMAlC,QAAQ,CAAC2C,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChD,MAAMC,cAAc,GAAG5C,QAAQ,CAACO,cAAT,CAAwB,UAAxB,CAAvB;AACAqC,EAAAA,cAAc,CAACD,gBAAf,CAAgC,OAAhC,EAAyC,UAACE,KAAD,EAAW;AAChDA,IAAAA,KAAK,CAACC,eAAN;AACA,+BAAW,YAAX;AACA,+BAAaC,IAAb,CAAkB,UAACC,MAAD,EAAY;AAC1B,iCAAWA,MAAX,EAAmB,YAAnB;AACH,KAFD;AAGH,GAND;AAQA,MAAMC,aAAa,GAAGjD,QAAQ,CAACO,cAAT,CAAwB,SAAxB,CAAtB;AACA0C,EAAAA,aAAa,CAACN,gBAAd,CAA+B,OAA/B,EAAwC,UAACE,KAAD,EAAW;AAC/CA,IAAAA,KAAK,CAACC,eAAN;AACA,QAAMI,KAAK,GAAG,+BAAd;AACA,6BAAWA,KAAX,EACKH,IADL,CACU,UAACI,CAAD;AAAA,aAAO,oCAAoBA,CAApB,CAAP;AAAA,KADV;AAEH,GALD;AAOA,MAAMC,YAAY,GAAGpD,QAAQ,CAACO,cAAT,CAAwB,KAAxB,CAArB;AACA6C,EAAAA,YAAY,CAACT,gBAAb,CAA8B,OAA9B,EAAuC,UAACE,KAAD,EAAW;AAC9CA,IAAAA,KAAK,CAACC,eAAN;AACAD,IAAAA,KAAK,CAACQ,cAAN;AACA,QAAMjD,GAAG,GAAG,4CAAZ;AACA,yBAAOA,GAAP,EACK2C,IADL,CACU,UAAChC,CAAD,EAAO;AACT,iCAAW,YAAX;AACA,aAAO,0BAAP;AACH,KAJL,EAKKgC,IALL,CAKU,UAACC,MAAD,EAAY;AACd,iCAAWA,MAAX,EAAmB,YAAnB;AACH,KAPL;AAQH,GAZD;AAaH,CAhCD","file":"app.a6a4d504.map","sourceRoot":"..","sourcesContent":["const columns = ['car_id', 'name', 'brand', 'year_release'];\n\nconst populateCell = (cell, text) => {\n    const cellText = document.createTextNode(text)\n    cell.appendChild(cellText);\n}\n\nconst addCarRow = (car, tableId) => {\n    const table = document.getElementById(tableId).getElementsByTagName('tbody')[0];\n    const newRow = table.insertRow(table.rows.length);\n    const cells = columns.map((_, index) => newRow.insertCell(index));\n    cells.forEach((c, index) => {\n        const text = car[columns[index]];\n        populateCell(c, text);\n    })\n}\n\nexport const addCarRows = (cars, tableId) => {\n    cars.forEach((c) => addCarRow(c, tableId));\n}\n\nexport const cleanTable = (tableId) => {\n    const table = document\n        .getElementById(tableId)\n        .getElementsByTagName('tbody')[0];\n    if (table.rows && table.rows.length > 0) {\n        for (let index = table.rows.length - 1; index >= 0; index--) {\n            table.deleteRow(index);\n        }\n    }\n}\n\nexport const populateEditCarForm = ({ name, brand, year_release }) => {\n    document.getElementById('name').value = name;\n    document.getElementById('brand').value = brand;\n    document.getElementById('year').value = year_release;\n}\n\nexport const retrieveCarFormEditCarForm = () => {\n    const name = document.getElementById('name').value;\n    const brand = document.getElementById('brand').value;\n    const year_release = document.getElementById('year').value;\n    return {\n        name,\n        brand,\n        year_release,\n    };\n};\n\nexport const retrieveCarId = () => {\n    return +document.getElementById('carid').value;\n}","const data = [\n    {\n        \"car_id\": 1,\n        \"name\": \"ABX\",\n        \"brand\": \"Tokiota\",\n        \"year_release\": \"1999\"\n    },\n    {\n        \"car_id\": 2,\n        \"name\": \"AZE\",\n        \"brand\": \"Tokiota\",\n        \"year_release\": \"1995\"\n    },\n];\n\nexport const getAllCars = () => {\n    return new Promise((resolve, _) => {\n        setTimeout(() => {\n            const cars = data.map((i) => i);\n            resolve(cars);\n        }, 500);\n    });\n}\n\nexport const getCarById = (id) => {\n    return new Promise((resolve, _) => {\n        setTimeout(() => {\n            const car = data.map((i) => i)\n                .find((c) => c.car_id === id);\n            resolve(car);\n        }, 500);\n    });\n}\n\nexport const addCar = (car) => {\n    return new Promise((resolve, _) => {\n        setTimeout(() => {\n            car['car_id'] = (data.length + 1);\n            data.push(car);\n            resolve('ok'); // TODO: Check with browser\n        }, 500);\n    }); \n};","import { \n    addCarRows, \n    retrieveCarId, \n    populateEditCarForm,\n    retrieveCarFormEditCarForm,\n    cleanTable,\n} from './uiHelpers';\nimport { \n   getAllCars,\n   getCarById,\n   addCar \n} from './API/carsApi.double';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const buttonLoadCars = document.getElementById('loadcars');\n    buttonLoadCars.addEventListener('click', (event) => {\n        event.stopPropagation();\n        cleanTable('cars-table');\n        getAllCars().then((result) => {\n            addCarRows(result, 'cars-table');\n        });\n    });\n\n    const buttonLoadCar = document.getElementById('loadcar');\n    buttonLoadCar.addEventListener('click', (event) => {\n        event.stopPropagation();\n        const carId = retrieveCarId();\n        getCarById(carId)\n            .then((r) => populateEditCarForm(r));\n    });\n\n    const buttonAddCar = document.getElementById('add');\n    buttonAddCar.addEventListener('click', (event) => {\n        event.stopPropagation();\n        event.preventDefault();\n        const car = retrieveCarFormEditCarForm();\n        addCar(car)\n            .then((_) => {\n                cleanTable('cars-table');\n                return getAllCars();\n            })\n            .then((result) => {\n                addCarRows(result, 'cars-table');\n            });\n    });\n});"]}